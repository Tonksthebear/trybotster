<div class="max-w-2xl mx-auto px-4 py-8">
  <header class="mb-8">
    <div class="flex items-center gap-3 mb-2">
      <%= link_to settings_path, class: "text-zinc-500 hover:text-zinc-300 transition-colors" do %>
        <%= icon "arrow-left", class: "size-5" %>
      <% end %>
      <h1 class="text-2xl font-bold text-zinc-100">Devices</h1>
    </div>
    <p class="text-sm text-zinc-400">Manage your CLI devices and push notifications</p>
  </header>

  <% if @devices.any? %>
    <div class="space-y-3">
      <% @devices.each do |device| %>
        <%= link_to settings_device_path(device),
              class: "group flex items-center justify-between gap-4 bg-zinc-900/50 border border-zinc-800 hover:border-zinc-700 rounded-lg px-4 py-4 transition-colors" do %>
          <div class="flex items-center gap-3 min-w-0">
            <div class="size-10 rounded-lg bg-zinc-800 flex items-center justify-center shrink-0">
              <%= icon "computer-desktop", class: "size-5 text-zinc-400" %>
            </div>
            <div class="min-w-0">
              <span class="text-sm font-medium text-zinc-200 group-hover:text-zinc-100 truncate block font-mono"><%= device.name %></span>
              <div class="flex items-center gap-3 mt-0.5">
                <% active_hubs = device.hubs.select(&:active?) %>
                <span class="text-xs text-zinc-500 flex items-center gap-1">
                  <% if active_hubs.any? %>
                    <span class="size-1.5 rounded-full bg-success-500"></span>
                    Online
                  <% else %>
                    <span class="size-1.5 rounded-full bg-zinc-600"></span>
                    Offline
                  <% end %>
                </span>
                <span class="text-xs text-zinc-600">
                  <%= pluralize(active_hubs.size, "hub") %>
                </span>
                <% if device.notifications_enabled? %>
                  <span class="text-xs text-primary-400 flex items-center gap-1">
                    <%= icon "bell", class: "size-3" %>
                    Push on
                  </span>
                <% end %>
              </div>
            </div>
          </div>
          <%= icon "chevron-right", class: "size-5 text-zinc-600 group-hover:text-zinc-400 shrink-0 transition-colors" %>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="bg-zinc-900/50 border border-zinc-800 rounded-lg py-12 text-center">
      <%= icon "computer-desktop", class: "size-12 text-zinc-700 mx-auto mb-4" %>
      <h3 class="text-lg font-medium text-zinc-300 mb-2">No devices</h3>
      <p class="text-sm text-zinc-500">Connect a CLI device to get started</p>
    </div>
  <% end %>
</div>
